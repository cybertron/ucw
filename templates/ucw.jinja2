<html>
<head>
    <title>Undercloud Configuration Wizard</title>

<style type='text/css'>
a:link {color:#808080; text-decoration:none;}
a:visited {color:#808080; text-decoration:none;}
a:hover {color:#808080; text-decoration:underline;}
a:active {color:#808080;}
body
{
    background-image: url('http://tripleo.org/_static/header_bg.jpg');
    background-repeat: repeat-x;
}
.sectionarea
{
    border: 5px solid #808080;
    -moz-border-radius:15px;
    border-radius:15px;
    margin: 5px;
    background: #e5e5e5;
}
</style>

<script type='text/javascript'>
function ood()
{
    document.getElementById('ood_message').style.display = 'block';
}
</script>

</head>
<body>
<center>
<a href='http://tripleo.org'><img src='http://tripleo.org/_static/tripleo_owl.svg' style='max-height: 100px'/></a>
<h1><a href='/'>Undercloud Configuration Wizard</a></h1>
<form method='get'>
<table class='sectionarea'>
    <tr>
        <td colspan='2'><center><h3>Basic Settings</h3></center></td>
    </tr>
    <tr title='{{DEFAULT.local_interface}}'>
        <td>Provisioning Interface</td> <td><input type='text' name='local_interface' value="{{local_interface}}"></td>
    </tr>
    <tr title='{{DEFAULT.network_cidr}}'>
        <td>Provisioning CIDR</td> <td><input type='text' name='network_cidr' value='{{network_cidr}}' onchange='ood()'></td>
    </tr>
    <tr title='Maximum number of nodes expected to ever be in the deployed overcloud. This value is used to determine the necessary size of IP ranges.'>
        <td>Overcloud Node Count</td> <td><input type='number' name='node_count' pattern="[0-9]*" inputmode="numeric" value='{{node_count}}' onchange='ood()'></td>
    </tr>
    <tr>
        <td colspan='2'><center><input type='submit' value='Generate Advanced' name='genadv'></center></td>
    </tr>
</table>
{% if error != '' %}
    <tr>
        <td colspan='2'><center><p style='color:red; font-weight:bold'>{{error}}</p></center></td>
    </tr>
{% else %}
<!-- Allons-y! -->
<span id='ood_message' style='display:none; color:red'>Advanced values may be out of date. Regeneration recommended.</span>
<table class='sectionarea'>
    <tr>
        <td colspan='2'><center><h3>Advanced Settings</h3></center></td>
    </tr>
    <tr title='{{DEFAULT.undercloud_hostname}}'>
        <td>Hostname<sup>M</sup></td> <td><input type='text' name='undercloud_hostname' value="{{undercloud_hostname}}"></td>
    </tr>
    <tr title='{{DEFAULT.local_ip}}'>
        <td>Local IP</td> <td><input type='text' name='local_ip' value="{{local_ip}}"></td>
    </tr>
    <tr title='{{DEFAULT.local_mtu}}'>
        <td>Local MTU<sup>N</sup></td> <td><input type='number' name='local_mtu' value="{{local_mtu}}"></td>
    </tr>
    <tr title='{{DEFAULT.network_gateway}}'>
        <td>Network Gateway</td> <td><input type='text' name='network_gateway' value="{{network_gateway}}"></td>
    </tr>
    <tr title='{{DEFAULT.undercloud_public_host}}'>
        <td>Public Host Address<sup>2</sup></td> <td><input type='text' name='undercloud_public_host' value="{{undercloud_public_host}}"></td>
    </tr>
    <tr title='{{DEFAULT.undercloud_admin_host}}'>
        <td>Admin Host Address<sup>2</sup></td> <td><input type='text' name='undercloud_admin_host' value="{{undercloud_admin_host}}"></td>
    </tr>
    <tr title='{{DEFAULT.dhcp_start}}'>
        <td>Provisioning DHCP Start</td> <td><input type='text' name='dhcp_start' value="{{dhcp_start}}"></td>
    </tr>
    <tr title='{{DEFAULT.dhcp_end}}'>
        <td>Provisioning DHCP End</td> <td><input type='text' name='dhcp_end' value="{{dhcp_end}}"></td>
    </tr>
    <tr title='{{DEFAULT.inspection_iprange}}'>
        <td>Inspection<sup>1</sup> DHCP Start</td> <td><input type='text' name='inspection_start' value="{{inspection_start}}"></td>
    </tr>
    <tr title='{{DEFAULT.inspection_iprange}}'>
        <td>Inspection<sup>1</sup> DHCP End</td> <td><input type='text' name='inspection_end' value="{{inspection_end}}"></td>
    </tr>
    <tr title='{{DEFAULT.undercloud_service_certificate}}'>
        <td>SSL Certificate</td> <td><input type='text' name='undercloud_service_certificate' value="{{undercloud_service_certificate}}"></td>
    </tr>
    <tr title="{{DEFAULT.generate_service_certificate}}">
        <td>Generate SSL Certificate<sup>N</sup></td> <td><input type='checkbox' name='generate_service_certificate' value='True' {% if generate_service_certificate == "True" -%} checked {%- endif %}></td>
    </tr>
     <tr>
        <td colspan='2'><center><input type='submit' value='Generate Configuration' name='generate'></center></td>
    </tr>
</table>
<table class='sectionarea'>
    <tr>
        <td><center><h3>Notes</h3></center></td>
    </tr>
    <tr>
        <td>
            <sup>1</sup>: Inspection was named Discovery in previous versions<br>
            <sup>2</sup>: In previous releases these were explicitly VIPs, but they can now take a DNS address as well<br>
            <sup>M</sup>: This option is only effective starting in Mitaka<br>
            <sup>N</sup>: This option is only effective starting in Newton
        </td>
    </tr>
</table>
{% endif %}
</form>
Source: <a href="https://github.com/cybertron/ucw">https://github.com/cybertron/ucw</a>
</center>
</body>
</html>
